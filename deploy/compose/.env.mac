# ==== Set User for local deployment ====
export USERID=$(id -u)

# ==== NVIDIA APIs for all AI processing ===
# Use NVIDIA's cloud services for all model inference
export APP_EMBEDDINGS_SERVERURL=""
export APP_LLM_SERVERURL=""
export APP_RANKING_SERVERURL=""
export SUMMARY_LLM_SERVERURL=""

# Use NVIDIA's latest and most powerful models via API
export APP_LLM_MODELNAME="nvidia/llama-3.3-nemotron-super-49b-v1"
export APP_EMBEDDINGS_MODELNAME="nvidia/llama-3.2-nv-embedqa-1b-v2"
export APP_RANKING_MODELNAME="nvidia/llama-3.2-nv-rerankqa-1b-v2"

# NVIDIA API endpoints
export EMBEDDING_NIM_ENDPOINT=https://integrate.api.nvidia.com/v1
export LLM_NIM_ENDPOINT=https://integrate.api.nvidia.com/v1

# Document processing via NVIDIA APIs
export PADDLE_HTTP_ENDPOINT=https://ai.api.nvidia.com/v1/cv/baidu/paddleocr
export PADDLE_INFER_PROTOCOL=http
export YOLOX_HTTP_ENDPOINT=https://ai.api.nvidia.com/v1/cv/nvidia/nemoretriever-page-elements-v2
export YOLOX_INFER_PROTOCOL=http
export YOLOX_GRAPHIC_ELEMENTS_HTTP_ENDPOINT=https://ai.api.nvidia.com/v1/cv/nvidia/nemoretriever-graphic-elements-v1
export YOLOX_GRAPHIC_ELEMENTS_INFER_PROTOCOL=http
export YOLOX_TABLE_STRUCTURE_HTTP_ENDPOINT=https://ai.api.nvidia.com/v1/cv/nvidia/nemoretriever-table-structure-v1
export YOLOX_TABLE_STRUCTURE_INFER_PROTOCOL=http

# Caption model for image understanding
export APP_NVINGEST_CAPTIONMODELNAME="nvidia/llama-3.1-nemotron-nano-vl-8b-v1"
export APP_NVINGEST_CAPTIONENDPOINTURL="https://integrate.api.nvidia.com/v1/chat/completions"

# Vector DB - CPU-only configuration for macOS
export VECTORSTORE_GPU_DEVICE_ID=0
export APP_VECTORSTORE_ENABLEGPUSEARCH=False
export APP_VECTORSTORE_ENABLEGPUINDEX=False

# Set absolute path for prompts file
export PROMPT_CONFIG_FILE=${PWD}/../../src/nvidia_rag/rag_server/prompt.yaml

# Optimize document processing settings
export APP_NVINGEST_EXTRACTTEXT=True
export APP_NVINGEST_EXTRACTTABLES=True
export APP_NVINGEST_EXTRACTCHARTS=True
export APP_NVINGEST_EXTRACTIMAGES=True
export APP_NVINGEST_EXTRACTINFOGRAPHICS=True
export APP_NVINGEST_PDFEXTRACTMETHOD=pdfium
